<!doctype html>



  


<html class="theme-next mist use-motion">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.4.0" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.0.2" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="ç¼–ç¨‹,golang,è¯­æ³•," />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.0.2" />






<meta name="description" content="Golangä¹Ÿæ˜¯æœ‰ç›¸å½“çš„ä¸€æ®µå†å²äº†ï¼ˆå­¦æ–°ä¸œè¥¿æ€»æ˜¯æ…¢äººä¸€æ­¥ï¼Œå¥½å¯æ€•ğŸ¤”ï¼‰ï¼Œç‰¹ç‚¹æ˜¯ï¼š

è·¨å¹³å°
åƒåœ¾å›æ”¶ï¼ˆæ¯•ä¸šåä¸€ç›´åœ¨ç”¨æœ‰GCçš„è¯­è¨€ï¼‰
ç¼–è¯‘å¿«

ä¸ºå·¥ä¸šå¼€å‘é‡èº«å®šåšï¼Œè¯­æ³•æ„Ÿè§‰å¹¶æ²¡æœ‰é‚£ä¹ˆå®Œå¤‡ï¼ˆå¤æ‚ï¼‰ã€‚ä»ä¼ ç»Ÿå…¥é—¨ç¨‹åºæ¥çœ‹å®ƒå¤§æ¦‚æ˜¯è¿™ä¸ªæ ·å­ï¼š
123456789package mainimport (	&quot;fmt&quot;)func main() &amp;#123;	fmt.Print(&quot;Hello World!&quot;)&amp;#12">
<meta property="og:type" content="article">
<meta property="og:title" content="Golangï¼šè¯­æ³•">
<meta property="og:url" content="http://yoursite.com/2017/06/14/golang-grammar/index.html">
<meta property="og:site_name" content="wsztrush">
<meta property="og:description" content="Golangä¹Ÿæ˜¯æœ‰ç›¸å½“çš„ä¸€æ®µå†å²äº†ï¼ˆå­¦æ–°ä¸œè¥¿æ€»æ˜¯æ…¢äººä¸€æ­¥ï¼Œå¥½å¯æ€•ğŸ¤”ï¼‰ï¼Œç‰¹ç‚¹æ˜¯ï¼š

è·¨å¹³å°
åƒåœ¾å›æ”¶ï¼ˆæ¯•ä¸šåä¸€ç›´åœ¨ç”¨æœ‰GCçš„è¯­è¨€ï¼‰
ç¼–è¯‘å¿«

ä¸ºå·¥ä¸šå¼€å‘é‡èº«å®šåšï¼Œè¯­æ³•æ„Ÿè§‰å¹¶æ²¡æœ‰é‚£ä¹ˆå®Œå¤‡ï¼ˆå¤æ‚ï¼‰ã€‚ä»ä¼ ç»Ÿå…¥é—¨ç¨‹åºæ¥çœ‹å®ƒå¤§æ¦‚æ˜¯è¿™ä¸ªæ ·å­ï¼š
123456789package mainimport (	&quot;fmt&quot;)func main() &amp;#123;	fmt.Print(&quot;Hello World!&quot;)&amp;#12">
<meta property="og:updated_time" content="2017-10-12T14:37:07.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Golangï¼šè¯­æ³•">
<meta name="twitter:description" content="Golangä¹Ÿæ˜¯æœ‰ç›¸å½“çš„ä¸€æ®µå†å²äº†ï¼ˆå­¦æ–°ä¸œè¥¿æ€»æ˜¯æ…¢äººä¸€æ­¥ï¼Œå¥½å¯æ€•ğŸ¤”ï¼‰ï¼Œç‰¹ç‚¹æ˜¯ï¼š

è·¨å¹³å°
åƒåœ¾å›æ”¶ï¼ˆæ¯•ä¸šåä¸€ç›´åœ¨ç”¨æœ‰GCçš„è¯­è¨€ï¼‰
ç¼–è¯‘å¿«

ä¸ºå·¥ä¸šå¼€å‘é‡èº«å®šåšï¼Œè¯­æ³•æ„Ÿè§‰å¹¶æ²¡æœ‰é‚£ä¹ˆå®Œå¤‡ï¼ˆå¤æ‚ï¼‰ã€‚ä»ä¼ ç»Ÿå…¥é—¨ç¨‹åºæ¥çœ‹å®ƒå¤§æ¦‚æ˜¯è¿™ä¸ªæ ·å­ï¼š
123456789package mainimport (	&quot;fmt&quot;)func main() &amp;#123;	fmt.Print(&quot;Hello World!&quot;)&amp;#12">



<script type="text/javascript" id="hexo.configuration">
  var NexT = window.NexT || {};
  var CONFIG = {
    scheme: 'Mist',
    sidebar: {"position":"left","display":"post"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: 'dc4364f27034e113a6c150023a648d49',
      author: 'wsztRush'
    }
  };
</script>




  <link rel="canonical" href="http://yoursite.com/2017/06/14/golang-grammar/"/>


  <title> Golangï¼šè¯­æ³• | wsztrush </title>
</head>

<body itemscope itemtype="//schema.org/WebPage" lang="zh-CN">

  



  <script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "//hm.baidu.com/hm.js?ab1b083818fdf7317d4a77e34fe07f4c";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>








  
  
    
  

  <div class="container one-collumn sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="//schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">wsztrush</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle">now or never!!!</p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
            é¦–é¡µ
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
            å½’æ¡£
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
            æ ‡ç­¾
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
            åˆ†ç±»
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
            å…³äº
          </a>
        </li>
      

      
    </ul>
  

  
</nav>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="//schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                Golangï¼šè¯­æ³•
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">å‘è¡¨äº</span>
            <time itemprop="dateCreated" datetime="2017-06-14T08:18:40+08:00" content="2017-06-14">
              2017-06-14
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/ç¼–ç¨‹/" itemprop="url" rel="index">
                    <span itemprop="name">ç¼–ç¨‹</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2017/06/14/golang-grammar/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2017/06/14/golang-grammar/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          
             <span id="/2017/06/14/golang-grammar/" class="leancloud_visitors" data-flag-title="Golangï¼šè¯­æ³•">
               &nbsp; | &nbsp;
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               <span class="post-meta-item-text">é˜…è¯»æ¬¡æ•° </span>
               <span class="leancloud-visitors-count"></span>
              </span>
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        <p>Golangä¹Ÿæ˜¯æœ‰ç›¸å½“çš„ä¸€æ®µå†å²äº†ï¼ˆ<font color="lightgrey">å­¦æ–°ä¸œè¥¿æ€»æ˜¯æ…¢äººä¸€æ­¥ï¼Œå¥½å¯æ€•ğŸ¤”</font>ï¼‰ï¼Œç‰¹ç‚¹æ˜¯ï¼š</p>
<ul>
<li>è·¨å¹³å°</li>
<li>åƒåœ¾å›æ”¶ï¼ˆ<font color="lightgrey">æ¯•ä¸šåä¸€ç›´åœ¨ç”¨æœ‰GCçš„è¯­è¨€</font>ï¼‰</li>
<li>ç¼–è¯‘å¿«</li>
</ul>
<p>ä¸ºå·¥ä¸šå¼€å‘é‡èº«å®šåšï¼Œè¯­æ³•æ„Ÿè§‰å¹¶æ²¡æœ‰é‚£ä¹ˆå®Œå¤‡ï¼ˆ<font color="lightgrey">å¤æ‚</font>ï¼‰ã€‚ä»ä¼ ç»Ÿå…¥é—¨ç¨‹åºæ¥çœ‹å®ƒå¤§æ¦‚æ˜¯è¿™ä¸ªæ ·å­ï¼š</p>
<figure class="highlight golang"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">package</span> main</div><div class="line"></div><div class="line"><span class="keyword">import</span> (</div><div class="line">	<span class="string">"fmt"</span></div><div class="line">)</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</div><div class="line">	fmt.Print(<span class="string">"Hello World!"</span>)</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>ä¸‹é¢æ¥çœ‹ä¸€äº›ç»†èŠ‚ï¼Œè·Ÿå…¶ä»–è¯­è¨€å¯¹æ¯”ç€å­¦ä¼šå¿«äº›ã€‚</p>
<h1 id="åŸºç¡€ç±»å‹"><a href="#åŸºç¡€ç±»å‹" class="headerlink" title="åŸºç¡€ç±»å‹"></a>åŸºç¡€ç±»å‹</h1><p>å˜é‡åˆ›å»ºçš„ç¬¬ä¸€ç§æ–¹å¼ä¸ºï¼ˆ<font color="lightgrey">ä¸çŸ¥é“å­¦çš„å“ªé—¨å­ç¼–ç¨‹è¯­è¨€çš„å¥—è·¯</font>ï¼‰ï¼š</p>
<figure class="highlight golang"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</div><div class="line">	<span class="keyword">var</span> a <span class="keyword">int</span></div><div class="line">	fmt.Println(a) <span class="comment">// 0</span></div><div class="line">	a = <span class="number">1</span></div><div class="line">	fmt.Println(a) <span class="comment">// 1</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>å¤šä¸ªå˜é‡å¯ä»¥çœä¸€äº›varï¼Œåˆå¹¶èµ·æ¥ä¸€èµ·å£°æ˜ï¼š</p>
<figure class="highlight golang"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</div><div class="line">	<span class="keyword">var</span> (</div><div class="line">		a <span class="keyword">int</span></div><div class="line">		b <span class="keyword">int</span></div><div class="line">	)</div><div class="line">	fmt.Println(a, b) <span class="comment">// 0 0</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>å¤šä¸ªåŒç±»å‹çš„åˆ™å¯ä»¥æ›´ç®€å•ä¸€äº›ï¼ŒåŒ…æ‹¬èµ‹å€¼ï¼š</p>
<figure class="highlight golang"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</div><div class="line">	<span class="keyword">var</span> a, b <span class="keyword">int</span></div><div class="line">	fmt.Println(a, b) <span class="comment">// 0 0</span></div><div class="line">	a, b = <span class="number">3</span>, <span class="number">4</span></div><div class="line">	fmt.Println(a, b) <span class="comment">// 3 4</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>å¸¸é‡çš„ç©æ³•å’Œå˜é‡å·®ä¸å¤šï¼Œæ¯”è¾ƒæœ‰æ„æ€å’Œç‰¹åˆ«çš„è‡ªå¢ï¼Œæ„Ÿè§‰ä¸ºäº†çœä»£ç å·²ç»ä¼¤å¿ƒç—…ç‹‚ï¼š</p>
<figure class="highlight golang"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</div><div class="line">	<span class="keyword">const</span> (</div><div class="line">		a = <span class="literal">iota</span> <span class="comment">// è‡ªå¢</span></div><div class="line">		b</div><div class="line">		c</div><div class="line">	)</div><div class="line">	fmt.Println(a, b, c) <span class="comment">// 0 1 2</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>ä¸ä¸€æ ·çš„åœ°æ–¹ï¼š</p>
<ul>
<li>å¼±åŒ–äº†<font color="red">å¸¸é‡</font></li>
<li>ä»ç¨‹åºå‘˜çš„è§’åº¦æ¥çœ‹æ•´æ•°ç±»å‹ï¼š<font color="red">int8ã€int16ã€int32</font>ç­‰</li>
<li>ä¸åŒé•¿åº¦çš„æ•´æ•°æ··ç”¨æ—¶ä¼šæŠ¥é”™ï¼ˆ<font color="lightgrey">åœ¨Javaä¸­ä¼šè‡ªåŠ¨æå‡</font>ï¼‰</li>
<li>å­—ç¬¦ä¸²çš„æ¯”è¾ƒè²Œä¼¼å’Œ<font color="red">equals</font>å·®ä¸å¤šäº†ï¼Œä¼šæ¯”è¾ƒå†…å®¹</li>
</ul>
<h1 id="é«˜çº§ç±»å‹"><a href="#é«˜çº§ç±»å‹" class="headerlink" title="é«˜çº§ç±»å‹"></a>é«˜çº§ç±»å‹</h1><p>æ•°ç»„å’ŒCé‡Œé¢çš„æœ‰ç‚¹åƒï¼Œå£°æ˜ä¹‹åå°±æœ‰å†…å­˜äº†ï¼Œè€Œä¸”å¤§å°ä¸èƒ½å†å˜ï¼š</p>
<figure class="highlight golang"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</div><div class="line">	<span class="keyword">var</span> a [<span class="number">10</span>]<span class="keyword">int</span></div><div class="line">	fmt.Println(a) <span class="comment">// [0 0 0 0 0 0 0 0 0 0]</span></div><div class="line"></div><div class="line">	b := [<span class="number">2</span>][<span class="number">2</span>]<span class="keyword">int</span>&#123;[<span class="number">2</span>]<span class="keyword">int</span>&#123;<span class="number">1</span>, <span class="number">2</span>&#125;, [<span class="number">2</span>]<span class="keyword">int</span>&#123;<span class="number">3</span>, <span class="number">4</span>&#125;&#125;</div><div class="line">	fmt.Println(b) <span class="comment">// [[1 2] [3 4]]</span></div><div class="line"></div><div class="line">	c := [...]<span class="keyword">int</span>&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>&#125;</div><div class="line">	fmt.Println(c) <span class="comment">// [1 2 3]</span></div><div class="line"></div><div class="line">	d := [<span class="number">2</span>][<span class="number">2</span>]<span class="keyword">int</span>&#123;&#123;<span class="number">1</span>, <span class="number">2</span>&#125;, &#123;<span class="number">3</span>, <span class="number">4</span>&#125;&#125;</div><div class="line">	fmt.Println(d) <span class="comment">// [[1 2] [3 4]]</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>å¤§å°ä¸ç¡®å®šçš„å¯ä»¥ä½¿ç”¨<font color="red">slice</font>ï¼ˆ<font color="lightgrey">è·ŸPythonæœ‰ç‚¹åƒ</font>ğŸ˜‚ï¼‰ï¼š</p>
<figure class="highlight golang"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</div><div class="line">	a := [<span class="number">100</span>]<span class="keyword">int</span>&#123;&#125;</div><div class="line"></div><div class="line">	fmt.Println(<span class="built_in">len</span>(a[<span class="number">10</span>:<span class="number">80</span>])) <span class="comment">// 70</span></div><div class="line">	fmt.Println(<span class="built_in">cap</span>(a[<span class="number">10</span>:<span class="number">80</span>])) <span class="comment">// 90</span></div><div class="line"></div><div class="line">	<span class="comment">// è¿½åŠ </span></div><div class="line">	b := <span class="built_in">make</span>([]<span class="keyword">int</span>, <span class="number">0</span>)</div><div class="line">	b1 := <span class="built_in">append</span>(b, <span class="number">10</span>)</div><div class="line">	fmt.Println(b1) <span class="comment">// [10]</span></div><div class="line">	b2 := <span class="built_in">append</span>(b1, <span class="number">20</span>, <span class="number">30</span>)</div><div class="line">	fmt.Println(b2) <span class="comment">// [10 20 30]</span></div><div class="line">	b3 := <span class="built_in">append</span>(b2, b2...)</div><div class="line">	fmt.Println(b3) <span class="comment">// [10 20 30 10 20 30]</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>å¦ä¸€ç§è¶…é«˜é¢‘ç»“æ„æ˜¯<font color="red">map</font>ï¼š</p>
<figure class="highlight golang"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</div><div class="line">	a := <span class="keyword">map</span>[<span class="keyword">int</span>]<span class="keyword">map</span>[<span class="keyword">int</span>]<span class="keyword">int</span>&#123;</div><div class="line">		<span class="number">1</span>: <span class="keyword">map</span>[<span class="keyword">int</span>]<span class="keyword">int</span>&#123;<span class="number">2</span>: <span class="number">3</span>&#125;,</div><div class="line">	&#125;</div><div class="line">	fmt.Println(a) <span class="comment">// map[1:map[2:3]]</span></div><div class="line">	fmt.Println(a[<span class="number">1</span>]) <span class="comment">// map[2:3]</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>ä¸ä¸€æ ·çš„åœ°æ–¹ï¼š</p>
<ul>
<li>åœ¨ç”¨æ•°ç»„èµ‹å€¼æ—¶ï¼Œä¼šè¿›è¡Œæ‹·è´ï¼Œè€Œä¸æ˜¯è®¾ç½®æŒ‡é’ˆï¼ˆ<font color="lightgrey">å€¼ä¼ é€’</font>ï¼‰</li>
<li>å¤šç»´æ•°ç»„çš„é•¿åº¦å¿…é¡»ä¸€è‡´</li>
</ul>
<h1 id="è‡ªå®šä¹‰ç±»å‹"><a href="#è‡ªå®šä¹‰ç±»å‹" class="headerlink" title="è‡ªå®šä¹‰ç±»å‹"></a>è‡ªå®šä¹‰ç±»å‹</h1><p>æ²¡æœ‰äº†<font color="red">classã€enum</font>ï¼Œåªèƒ½ç”¨<font color="red">struct</font>æ¥æå®šä¸€åˆ‡ï¼š</p>
<figure class="highlight golang"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// å®šä¹‰ç»“æ„ä½“</span></div><div class="line"><span class="keyword">type</span> Mutex <span class="keyword">struct</span> &#123;</div><div class="line">	a <span class="keyword">string</span></div><div class="line">	b <span class="keyword">int</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// å®šä¹‰ç±»å‹ä¸Šçš„æ–¹æ³•</span></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="params">(m *Mutex)</span> <span class="title">Lock</span><span class="params">()</span></span> &#123;&#125;</div><div class="line"><span class="function"><span class="keyword">func</span> <span class="params">(m *Mutex)</span> <span class="title">Unlock</span><span class="params">()</span></span> &#123;&#125;</div><div class="line"></div><div class="line"><span class="comment">// å®šä¹‰æ–°ç±»å‹</span></div><div class="line"><span class="keyword">type</span> MyMutex1 Mutex           <span class="comment">// åˆ«åï¼Œä¸ä¼šé›†æˆæ–¹æ³•</span></div><div class="line"><span class="keyword">type</span> MyMutex2 <span class="keyword">struct</span>&#123; Mutex &#125; <span class="comment">// ä¼šç»§æ‰¿æ–¹æ³•</span></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</div><div class="line">	b := <span class="built_in">new</span>(MyMutex2)</div><div class="line">	b.Mutex.Lock()</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>ä¸ä¸€æ ·çš„åœ°æ–¹ï¼š</p>
<ul>
<li>é€šè¿‡<font color="red">é¦–å­—æ¯å¤§å°å†™æ¥</font>æ§åˆ¶æƒé™</li>
<li>æ–¹æ³•çš„å£°æ˜å’Œå®ç°éƒ½æ”¾åˆ°ç»“æ„ä½“å¤–é¢</li>
</ul>
<h1 id="æ§åˆ¶ä¸æ–¹æ³•"><a href="#æ§åˆ¶ä¸æ–¹æ³•" class="headerlink" title="æ§åˆ¶ä¸æ–¹æ³•"></a>æ§åˆ¶ä¸æ–¹æ³•</h1><p>æ§åˆ¶è¯­å¥å˜å¾—æ›´åŠ çµæ´»å’Œâ€œéšæ„â€ï¼Œå°è¯•å°†å¤šè¡Œä»£ç åˆå¹¶æˆä¸€è¡Œï¼š</p>
<figure class="highlight golang"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</div><div class="line">	<span class="comment">// å¯ä»¥èµ‹å€¼ï¼Œæ³¨æ„å˜é‡çš„ä½œç”¨åŸŸ</span></div><div class="line">	<span class="keyword">if</span> a, b := <span class="number">1</span>, <span class="number">2</span>; a &lt; b &#123;</div><div class="line">		fmt.Println(a, b) <span class="comment">// 1 2</span></div><div class="line">	&#125;</div><div class="line"></div><div class="line">	<span class="comment">// å¤§åé¼é¼çš„GOTOå›æ¥äº†</span></div><div class="line">	<span class="keyword">var</span> a <span class="keyword">int</span> = <span class="number">1</span></div><div class="line">	Label:</div><div class="line">	<span class="keyword">if</span> a &lt; <span class="number">10</span> &#123;</div><div class="line">		a += <span class="number">1</span></div><div class="line">		<span class="keyword">goto</span> Label</div><div class="line">	&#125;</div><div class="line">	fmt.Println(a) <span class="comment">// 10</span></div><div class="line"></div><div class="line">	<span class="comment">// ä¸‰ç§å¾ªç¯å½¢å¼</span></div><div class="line">	<span class="keyword">for</span> a := <span class="number">1</span>; a &lt; <span class="number">10</span>; a += <span class="number">1</span> &#123;</div><div class="line"></div><div class="line">	&#125;</div><div class="line"></div><div class="line">	<span class="keyword">for</span> a &lt; <span class="number">9</span> &#123;</div><div class="line"></div><div class="line">	&#125;</div><div class="line"></div><div class="line">	<span class="keyword">for</span> &#123;</div><div class="line">		<span class="keyword">break</span></div><div class="line">	&#125;</div><div class="line"></div><div class="line">	<span class="comment">// SWITCHçš„ä¸¤ç§å½¢å¼</span></div><div class="line">	<span class="keyword">switch</span> &#123;</div><div class="line">	<span class="keyword">case</span> a &lt; <span class="number">1</span>:</div><div class="line">	<span class="keyword">case</span> a &lt; <span class="number">2</span>:</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	<span class="keyword">switch</span> <span class="string">"123"</span> &#123;</div><div class="line">	<span class="keyword">case</span> <span class="string">"123"</span>:</div><div class="line">		fmt.Println(<span class="string">"123"</span>) <span class="comment">// 123</span></div><div class="line">		<span class="keyword">break</span></div><div class="line">	<span class="keyword">case</span> <span class="string">"23"</span>:</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>æ¯”è¾ƒæ–°çš„Javaä¹Ÿåœ¨å˜å¾—éšæ„ï¼Œä¸€äº›ä¸ä¸€æ ·çš„åœ°æ–¹ï¼š</p>
<ul>
<li><font color="red">whileã€do-while</font>ä¸è§äº†</li>
<li><font color="red">goto</font>å›æ¥äº†</li>
<li>çœç•¥äº†ä¸€äº›æ‹¬å·ï¼ˆ<font color="lightgrey">æ„Ÿè§‰å¤šä¸€äº›æ‹¬å·ä¼šç»“æ„æ›´æ¸…æ™°äº›</font>ï¼‰</li>
</ul>
<p>ä¸€ç›´æŠŠ<font color="red">å‡½æ•°</font>ä¹Ÿå½“åšäº†ç»“æ„æ§åˆ¶çš„ä¸€ç§æ–¹å¼ï¼Œå®šä¹‰å½¢å¼å’Œå¤šå€¼è¿”å›éƒ½è·ŸPythonåƒï¼š</p>
<figure class="highlight golang"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">test</span><span class="params">(i1 <span class="keyword">int</span>, i2 []<span class="keyword">string</span>)</span> <span class="params">(o1 <span class="keyword">int</span>, o2 <span class="keyword">string</span>)</span></span> &#123;</div><div class="line">	i2[<span class="number">0</span>] = <span class="string">"a"</span></div><div class="line">	<span class="keyword">return</span> <span class="number">1</span>, <span class="string">"2"</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</div><div class="line">	fmt.Println(test(<span class="number">1</span>, []<span class="keyword">string</span>&#123;<span class="string">"abc"</span>&#125;)) <span class="comment">// 1 2</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>åœ¨æ–¹æ³•ä¸­ä½¿ç”¨å…³é”®å­—<font color="red">defer</font>æ¥å¤„ç†å‡½æ•°é€€å‡ºå‰çš„æ“ä½œï¼ŒæŒ‰ç…§LIFOçš„é¡ºåºæ‰§è¡Œï¼ˆ<font color="lightgrey">æœ‰ç‚¹åƒfinallyçš„æ›¿ä»£</font>ï¼‰ï¼š</p>
<figure class="highlight golang"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">test</span><span class="params">()</span></span> &#123;</div><div class="line">	<span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="number">5</span>; i++ &#123;</div><div class="line">		<span class="keyword">defer</span> fmt.Printf(<span class="string">"%d "</span>, i)</div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</div><div class="line">	test() <span class="comment">// 4 3 2 1 0</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>ç›¸å¯¹å¤æ‚ä¸€äº›çš„é€»è¾‘å¯ä»¥ç”¨å‡½æ•°å°è£…ï¼Œæœ‰æ²¡æœ‰çœ‹åˆ°äº›JavaScriptä¸­é—­åŒ…çš„å½±å­ï¼š</p>
<figure class="highlight golang"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">test</span><span class="params">()</span></span> &#123;</div><div class="line">	<span class="keyword">defer</span> <span class="function"><span class="keyword">func</span><span class="params">()</span></span> &#123;</div><div class="line">		fmt.Println(<span class="string">"finish!"</span>)</div><div class="line">	&#125;()</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</div><div class="line">	test() <span class="comment">// finish!</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>åŒæ—¶ä¹Ÿå¯ä»¥å°†å‡½æ•°ææˆä¸ªå˜é‡ï¼Œå½“åšå‚æ•°ã€è¿”å›å€¼ä»€ä¹ˆçš„ï¼Œè·Ÿæ™®é€šçš„å˜é‡æ²¡å•¥åŒºåˆ«äº†ï¼š</p>
<figure class="highlight golang"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</div><div class="line">	add := <span class="function"><span class="keyword">func</span><span class="params">(a <span class="keyword">int</span>)</span> <span class="title">int</span></span> &#123;</div><div class="line">		<span class="keyword">return</span> a + <span class="number">1</span></div><div class="line">	&#125;</div><div class="line"></div><div class="line">	fmt.Println(add(<span class="number">1</span>))</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>ä¸ä¸€æ ·çš„åœ°æ–¹ï¼š</p>
<ul>
<li>å¤šå€¼è¿”å›</li>
<li>æ²¡æœ‰äº†å¼‚å¸¸æœºåˆ¶</li>
</ul>
<h1 id="é”™è¯¯å¤„ç†"><a href="#é”™è¯¯å¤„ç†" class="headerlink" title="é”™è¯¯å¤„ç†"></a>é”™è¯¯å¤„ç†</h1><p>åœ¨Golangä¸­ä½¿ç”¨â€œææ…Œâ€æœºåˆ¶ä»£æ›¿äº†å¼‚å¸¸æœºåˆ¶ï¼š</p>
<ul>
<li><font color="red">panic</font>ï¼šä¸­æ–­æ‰§è¡Œï¼Œä¸å½±å“deferçš„å¤„ç†ï¼Œå¦‚æœæ²¡æœ‰åœ¨æœ¬å‡½æ•°ä¸­æ²¡æœ‰æ¢å¤ï¼Œä¼šåœ¨è°ƒç”¨æ–¹äº§ç”Ÿâ€œææ…Œâ€</li>
<li><font color="red">recover</font>ï¼šâ€œææ…Œâ€ä¿®å¤ï¼Œå¿…é¡»åœ¨deferä¸­è°ƒç”¨</li>
</ul>
<p>ä¸¾ä¸ªæ —å­ï¼š</p>
<figure class="highlight golang"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">test</span><span class="params">()</span></span> &#123;</div><div class="line">	<span class="keyword">defer</span> <span class="function"><span class="keyword">func</span><span class="params">()</span></span> &#123;</div><div class="line">		<span class="keyword">if</span> x := <span class="built_in">recover</span>(); x != <span class="literal">nil</span> &#123;</div><div class="line">			fmt.Println(x) <span class="comment">// å‡ºé”™</span></div><div class="line">		&#125;</div><div class="line">	&#125;()</div><div class="line"></div><div class="line">	<span class="built_in">panic</span>(<span class="string">"å‡ºé”™"</span>)</div><div class="line"></div><div class="line">	fmt.Println(<span class="string">"ç»§ç»­æ‰§è¡Œ"</span>) <span class="comment">// ä¸ä¼šæ‰§è¡Œ</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</div><div class="line">	test()</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>ç”±äºæ”¯æŒå¤šå€¼è¿”å›ï¼Œæ‰€ä»¥é”™è¯¯çš„ä¿¡æ¯ä¹Ÿç»å¸¸å¯ä»¥é¡ºå¸¦è¿”å›ï¼ˆ<font color="lightgrey">è€Œä¸æ˜¯åœ¨æ–¹æ³•ç»“å°¾åŠ ä¸ªthrowsï¼Œæ„Ÿè§‰æ–¹ä¾¿å¤ªå¤šäº†ï¼Œæœ‰ç‚¹Cçš„å¤„ç†é£æ ¼</font>ï¼‰ï¼š</p>
<figure class="highlight golang"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> (</div><div class="line">	<span class="string">"fmt"</span></div><div class="line">	<span class="string">"errors"</span></div><div class="line">)</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">test</span><span class="params">()</span> <span class="params">(<span class="keyword">int</span>, error)</span></span> &#123;</div><div class="line">	<span class="keyword">return</span> <span class="number">1</span>, errors.New(<span class="string">"abc"</span>)</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</div><div class="line">	ret, err := test()</div><div class="line"></div><div class="line">	fmt.Println(ret, err)</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>ä¸ä¸€æ ·çš„åœ°æ–¹ï¼š</p>
<ul>
<li>â€œé”™è¯¯â€ä¸â€œå¼‚å¸¸â€åˆ†å¼€ä¸¤ç§æ–¹å¼è¿›è¡Œå¤„ç†ï¼Œä¸ç”¨å†ç®¡è¿è¡Œæ—¶å¼‚å¸¸ä»€ä¹ˆçš„äº†</li>
</ul>
<h1 id="æ¥å£"><a href="#æ¥å£" class="headerlink" title="æ¥å£"></a>æ¥å£</h1><p>æ¥å£çš„ä½œç”¨æ˜¯å®šä¹‰å‡½æ•°çš„é›†åˆï¼š</p>
<figure class="highlight golang"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">type</span> MyInterface <span class="keyword">interface</span> &#123;</div><div class="line">	Get() <span class="keyword">int</span></div><div class="line">	Put(<span class="keyword">int</span>)</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>å…·ä½“å®ç°ä¸ç”¨æ˜¾å¼åœ°<font color="red">implementsã€entend</font>ç›¸åº”çš„æ¥å£ï¼ˆ<font color="lightgrey">åŸç†æ˜¯ä»€ä¹ˆæ ·çš„ï¼Ÿ</font>ï¼‰ï¼š</p>
<figure class="highlight golang"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">type</span> MyImpl <span class="keyword">struct</span> &#123;</div><div class="line">	value <span class="keyword">int</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="params">(self *MyImpl)</span> <span class="title">Get</span><span class="params">()</span> <span class="title">int</span></span> &#123;</div><div class="line">	<span class="keyword">return</span> self.value</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="params">(self *MyImpl)</span> <span class="title">Put</span><span class="params">(value <span class="keyword">int</span>)</span></span> &#123;</div><div class="line">	self.value = value</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">test</span><span class="params">(i MyInterface)</span></span> &#123;</div><div class="line">	i.Put(<span class="number">1</span>)</div><div class="line">	<span class="built_in">println</span>(i.Get()) <span class="comment">// 1</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</div><div class="line">	<span class="keyword">var</span> i MyInterface = <span class="built_in">new</span>(MyImpl)</div><div class="line"></div><div class="line">	test(i)</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>è¦æƒ³è·å–æ¥å£å…·ä½“æ˜¯ä»€ä¹ˆï¼Œå¯ä»¥åœ¨switchä¸­ä½¿ç”¨<font color="red">type</font>è¿›è¡Œåˆ¤æ–­ï¼ˆ<font color="lightgrey">åªèƒ½åœ¨switchä¸­ç”¨ï¼Œæ¯”è¾ƒå¥‡æ€ªçš„è¯­æ³•</font>ï¼‰ï¼š</p>
<figure class="highlight golang"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</div><div class="line">	<span class="keyword">var</span> i MyInterface = <span class="built_in">new</span>(MyImpl)</div><div class="line"></div><div class="line">	<span class="keyword">switch</span> i.(<span class="keyword">type</span>) &#123;</div><div class="line">	<span class="keyword">case</span> MyInterface:</div><div class="line">		<span class="built_in">println</span>(<span class="string">"got MyInterface!"</span>)</div><div class="line">		<span class="keyword">break</span></div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>å¦å¤–ä¸€ç§å¯ä»¥åœ¨switchå¤–é¢åˆ¤æ–­çš„æ–¹æ³•ï¼š</p>
<figure class="highlight golang"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</div><div class="line">	<span class="keyword">var</span> i <span class="keyword">interface</span>&#123;&#125; = <span class="built_in">new</span>(MyImpl)</div><div class="line">	t, ok := i.(MyInterface)</div><div class="line"></div><div class="line">	fmt.Println(t, ok) <span class="comment">// &amp;&#123;0&#125; true</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>ä¸ä¸€æ ·çš„åœ°æ–¹ï¼š</p>
<ul>
<li>ä¸éœ€è¦æ˜¾å¼åœ°å®ç°æ¥å£ï¼Œä½†æ˜¯è¿™æ ·ä¼šä¸ä¼šå®¹æ˜“æ¼æ‰å®ç°ä¸€äº›æ–¹æ³•</li>
</ul>
<h1 id="åå°„"><a href="#åå°„" class="headerlink" title="åå°„"></a>åå°„</h1><p>æ‹¿åˆ°ä¸€ä¸ªç©ºæ¥å£æ—¶æˆ‘ä»¬æ˜¯æ¯”è¾ƒæ‡µé€¼çš„ï¼Œå› ä¸ºå‹æ ¹ä¸çŸ¥é“å®ƒé‡Œé¢æœ‰ä»€ä¹ˆä¸œè¥¿ï¼Œç”¨Javaçš„åŒå­¦ä¼šæƒ³åˆ°<font color="red">reflect</font>ï¼ŒGoä¹Ÿæœ‰è€Œä¸”ç”¨æ³•ä¹Ÿå·®ä¸å¤šï¼š</p>
<figure class="highlight golang"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</div><div class="line">	<span class="keyword">var</span> i <span class="keyword">interface</span>&#123;&#125; = <span class="built_in">new</span>(MyImpl)</div><div class="line"></div><div class="line">	t := reflect.TypeOf(i)</div><div class="line"></div><div class="line">	fmt.Println(t)                             <span class="comment">// *main.MyImpl</span></div><div class="line">	fmt.Println(t.Kind())                      <span class="comment">// ptr</span></div><div class="line">	fmt.Println(t.Elem())                      <span class="comment">// main.MyImpl</span></div><div class="line">	fmt.Println(t.Elem().FieldByName(<span class="string">"value"</span>)) <span class="comment">// &#123;value main int  0 [0] false&#125; true</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>ç±»ä¼¼çš„å¯ä»¥é€šè¿‡åå°„æ¥è°ƒç”¨æ–¹æ³•ï¼</p>
<h1 id="I-O"><a href="#I-O" class="headerlink" title="I/O"></a>I/O</h1><p>å¯¹æ–‡ä»¶çš„è¯»å†™è·ŸJavaæ¯”è¾ƒåƒï¼Œæ‰“å¼€æ–‡ä»¶åç›´æ¥è¯»å–å­—èŠ‚ï¼š</p>
<figure class="highlight golang"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> <span class="string">"os"</span></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</div><div class="line">	buf := <span class="built_in">make</span>([]<span class="keyword">byte</span>, <span class="number">1024</span>)</div><div class="line">	f, _ := os.Open(<span class="string">"/etc/passwd"</span>)</div><div class="line"></div><div class="line">	<span class="keyword">defer</span> f.Close()</div><div class="line"></div><div class="line">	<span class="keyword">for</span> &#123;</div><div class="line">		n, _ := f.Read(buf)</div><div class="line">		<span class="keyword">if</span> n == <span class="number">0</span> &#123;</div><div class="line">			<span class="keyword">break</span></div><div class="line">		&#125;</div><div class="line">		os.Stdout.Write(buf[<span class="number">0</span>:n])</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>å¸¦æœ‰ç¼“å­˜çš„è¯»å†™åƒæ˜¯æäº†ä¸€å±‚è£…é¥°ï¼š</p>
<figure class="highlight golang"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> (</div><div class="line">	<span class="string">"bufio"</span></div><div class="line">	<span class="string">"os"</span></div><div class="line">)</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</div><div class="line">	buf := <span class="built_in">make</span>([]<span class="keyword">byte</span>, <span class="number">1024</span>)</div><div class="line"></div><div class="line">	f, _ := os.Open(<span class="string">"/etc/passwd"</span>)</div><div class="line">	<span class="keyword">defer</span> f.Close()</div><div class="line"></div><div class="line">	r := bufio.NewReader(f)</div><div class="line">	w := bufio.NewWriter(os.Stdout)</div><div class="line">	<span class="keyword">defer</span> w.Flush()</div><div class="line"></div><div class="line">	<span class="keyword">for</span> &#123;</div><div class="line">		n, _ := r.Read(buf)</div><div class="line">		r.R</div><div class="line">		<span class="keyword">if</span> n == <span class="number">0</span> &#123;</div><div class="line">			<span class="keyword">break</span></div><div class="line">		&#125;</div><div class="line">		w.Write(buf[<span class="number">0</span>:n])</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>å…¶ä»–çš„å…³äºç½‘ç»œçš„ï¼Œå¹¶æ²¡æœ‰æ¶‰åŠåˆ°ä»€ä¹ˆæ–°è¯­æ³•ï¼Œåé¢å†ä¸“é—¨ä»”ç»†çœ‹å§ã€‚</p>
<h1 id="å¹¶å‘ç¼–ç¨‹"><a href="#å¹¶å‘ç¼–ç¨‹" class="headerlink" title="å¹¶å‘ç¼–ç¨‹"></a>å¹¶å‘ç¼–ç¨‹</h1><p>å¹¶è¡Œæ‰€ä½¿ç”¨çš„ä¸æ˜¯çº¿ç¨‹ã€è¿›ç¨‹ã€åç¨‹ï¼Œè¿™é‡Œä¸çº ç»“åº•å±‚çš„åŸç†ï¼Œæƒ³å¹¶è¡Œå¤„ç†ç”¨<font color="red">go</font>å³å¯ï¼Œè·Ÿè°ƒç”¨æ–¹æ³•æ²¡å¤šå°‘åŒºåˆ«ï¼š</p>
<figure class="highlight golang"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">test</span><span class="params">(w <span class="keyword">string</span>, sec <span class="keyword">int</span>)</span></span> &#123;</div><div class="line">	time.Sleep(time.Duration(sec) * time.Second)</div><div class="line">	fmt.Println(w, <span class="string">" is ready!"</span>)</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</div><div class="line">	<span class="keyword">go</span> test(<span class="string">"a"</span>, <span class="number">2</span>)</div><div class="line">	<span class="keyword">go</span> test(<span class="string">"b"</span>, <span class="number">1</span>)</div><div class="line">	fmt.Println(<span class="string">"main"</span>)</div><div class="line">	time.Sleep(time.Duration(<span class="number">5</span>) * time.Second)</div><div class="line">	</div><div class="line">	<span class="comment">// main</span></div><div class="line">	<span class="comment">// b  is ready!</span></div><div class="line">	<span class="comment">// a  is ready!</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>åœ¨å¹¶å‘ç¼–ç¨‹é¢†åŸŸæœ‰ä¸€ä¸ªè§‚ç‚¹æ˜¯<font color="red">ç”¨æ¶ˆæ¯ä¼ é€’ä»£æ›¿å…±äº«å†…å­˜</font>ï¼Œäºæ˜¯ä¾¿æœ‰äº†<font color="red">chan</font>ï¼ˆ<font color="lightgrey">æ¶ˆæ¯çš„ç®¡é“</font>ï¼‰ï¼š</p>
<figure class="highlight golang"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> c <span class="keyword">chan</span> <span class="keyword">int</span></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">test</span><span class="params">(w <span class="keyword">string</span>, sec <span class="keyword">int</span>)</span></span> &#123;</div><div class="line">	time.Sleep(time.Duration(sec) * time.Second)</div><div class="line"></div><div class="line">	c &lt;- sec <span class="comment">// å‘ c ä¸­å†™å…¥æ•°æ®</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</div><div class="line">	c = <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="keyword">int</span>)</div><div class="line"></div><div class="line">	<span class="keyword">go</span> test(<span class="string">"a"</span>, <span class="number">2</span>)</div><div class="line">	<span class="keyword">go</span> test(<span class="string">"b"</span>, <span class="number">1</span>)</div><div class="line"></div><div class="line">	fmt.Println(&lt;-c) <span class="comment">// 1 ä»cä¸­è¯»å–æ•°æ®</span></div><div class="line">	fmt.Println(&lt;-c) <span class="comment">// 2 ä»cä¸­è¯»å–æ•°æ®</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>é»˜è®¤çš„æƒ…å†µä¸‹ç®¡é“æ˜¯æ²¡æœ‰ç¼“å­˜çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼š</p>
<blockquote>
<p>åœ¨æ•°æ®æ²¡æœ‰è¢«è¯»èµ°æ—¶ï¼Œå†™ä¼šè¢«é˜»å¡ï¼›åœ¨æ²¡æœ‰å†™å…¥æ•°æ®æ—¶ï¼Œè¯»ä¼šè¢«é˜»å¡ï¼›</p>
</blockquote>
<p>åˆ›å»ºå¸¦ç¼“å†²çš„ç®¡é“çš„æ–¹æ³•æ˜¯ï¼š</p>
<figure class="highlight golang"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">c = <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="keyword">int</span>, <span class="number">4</span>)</div></pre></td></tr></table></figure>
<p>ç®¡é“ä¸ç”¨äº†å¯ä»¥ä½¿ç”¨<font color="red">close</font>å…³é—­ç®¡é“ï¼Œäºæ˜¯è¯»å–æ—¶åˆ¤æ–­æ˜¯å¦å…³é—­çš„æ–¹æ³•ä¸ºï¼š</p>
<figure class="highlight golang"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">if</span> a, ok := &lt;-c; ok &#123;</div><div class="line">	fmt.Println(a)</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>å½“éœ€è¦ä»å¤šä¸ªç®¡é“ä¸­è¯»å–æ•°æ®æ—¶å¯ä»¥ä½¿ç”¨<font color="red">select</font>ï¼ˆ<font color="lightgrey">æœ‰ç‚¹åƒI/Oä¸­çš„ç©æ³•</font>ï¼‰:</p>
<figure class="highlight golang"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> c <span class="keyword">chan</span> <span class="keyword">int</span></div><div class="line"><span class="keyword">var</span> d <span class="keyword">chan</span> <span class="keyword">int</span></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</div><div class="line">	c = <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="keyword">int</span>, <span class="number">4</span>)</div><div class="line">	d = <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="keyword">int</span>, <span class="number">4</span>)</div><div class="line"></div><div class="line">	<span class="keyword">var</span> i <span class="keyword">int</span></div><div class="line">	<span class="keyword">for</span> &#123;</div><div class="line">		<span class="keyword">select</span> &#123;</div><div class="line">		<span class="keyword">case</span> i = &lt;-c:</div><div class="line">			<span class="keyword">break</span></div><div class="line">		<span class="keyword">case</span> i = &lt;-d:</div><div class="line">			<span class="keyword">break</span></div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h1 id="åŒ…çš„ç”¨æ³•"><a href="#åŒ…çš„ç”¨æ³•" class="headerlink" title="åŒ…çš„ç”¨æ³•"></a>åŒ…çš„ç”¨æ³•</h1><p>åº”ç”¨çš„ç›®å½•å¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">- app</div><div class="line">   |- src ï¼šæºç </div><div class="line">   |- pkg ï¼šgo installç”Ÿæˆçš„.aæ–‡ä»¶</div><div class="line">   |- bin ï¼šå¯æ‰§è¡Œæ–‡ä»¶</div></pre></td></tr></table></figure>
<p>Golangä¸­åŒ…çš„ç‰¹ç‚¹ï¼š</p>
<ul>
<li>åŒ…åä¸æ‰€åœ¨çš„ç›®å½•åæ²¡ä»€ä¹ˆå…³ç³»ï¼ˆ<font color="lightgrey">æœ€å¥½ä¿æŒä¸€è‡´ï¼Œä¸ç„¶å®¹æ˜“å¼•å…¥å’Œä½¿ç”¨çš„ä¸¤ä¸ªåœ°æ–¹ä¸ä¸€è‡´</font>ï¼‰ï¼›</li>
<li>åŒ…å¯ä»¥ç”±å¤šä¸ªæ–‡ä»¶ç»„æˆï¼›</li>
<li>åŒ…ä¸­çš„å¤šä¸ªæ–‡ä»¶å¯ä»¥äº’ç›¸è°ƒç”¨æ–¹æ³•ã€ä½¿ç”¨å˜é‡ï¼Œä¸ç®¡æ˜¯å¦å¯¼å‡ºï¼›</li>
<li>åŒ…ä¸­ä¸èƒ½æœ‰ç›¸åŒçš„æ–¹æ³•å’Œå˜é‡ï¼ˆ<font color="lightgrey">é™¤äº†initæ–¹æ³•</font>ï¼‰ï¼›</li>
<li>æ¯ä¸ªç›®å½•åªèƒ½å­˜åœ¨ä¸€ä¸ªåŒ…ï¼›</li>
<li>å¯¼å…¥åŒ…æ—¶ä½¿ç”¨GOPATHä¹‹åçš„è·¯å¾„ï¼›</li>
<li>initå‡½æ•°ç›¸å…³ï¼š<ul>
<li>åŒä¸€ä¸ªæ–‡ä»¶ä¸­å¯ä»¥æœ‰å¤šä¸ªinitæ–¹æ³•ï¼›</li>
<li>åŒä¸€ä¸ªæ–‡ä»¶ä¸­ï¼Œä»ä¸Šå¾€ä¸‹æ‰§è¡Œï¼› </li>
<li>åŒä¸€ä¸ªåŒ…ä¸­ï¼ŒæŒ‰ç…§æ–‡ä»¶åçš„å­—å…¸åºæ‰§è¡Œï¼›</li>
<li>ä¸åŒåŒ…ä¹‹é—´ï¼Œå¦‚æœä¸å­˜åœ¨ä¾èµ–ï¼Œå…ˆimportçš„å…ˆæ‰§è¡Œï¼›</li>
<li>ä¸åŒåŒ…ä¹‹é—´ï¼Œå¦‚æœå­˜åœ¨ä¾èµ–ï¼Œå…ˆæ‰§è¡Œæœ€æ—©è¢«ä¾èµ–çš„ï¼›</li>
</ul>
</li>
</ul>
<p>åœ¨Golangä¸­ä¸å…è®¸å‡ºç°å¾ªç¯ä¾èµ–ã€‚</p>
<h1 id="å•æµ‹"><a href="#å•æµ‹" class="headerlink" title="å•æµ‹"></a>å•æµ‹</h1><p>åšå•æµ‹çš„å‡ ä¸ªè§„åˆ™ï¼ˆ<font color="lightgrey">æ˜¯å¦å¼ºåˆ¶ï¼Ÿ</font>ï¼‰ï¼š</p>
<ul>
<li>å’Œæºç åœ¨ç›¸åŒçš„ç›®å½•ï¼›</li>
<li><code>xxx.go</code>å¯¹åº”çš„å•æµ‹çš„æ–‡ä»¶åä¸º<code>xxx_test.go</code>ï¼›</li>
<li>åŸæ–¹æ³•ä¸­çš„æ–¹æ³•<code>Xxx</code>å¯¹åº”å•æµ‹ä¸­çš„æ–¹æ³•æ˜¯<code>TestXxx(t *testing.T)</code>ï¼ŒTeståçš„ç¬¬ä¸€ä¸ªå­—ç¬¦å¿…é¡»å¤§å†™ï¼›</li>
<li>éœ€è¦å¼•å…¥æµ‹è¯•åŒ…<code>testing</code>ï¼›</li>
<li>å¦‚æœè¦åšæ€§èƒ½æµ‹è¯•ï¼Œè¦å®ç°çš„æ–¹æ³•æ˜¯<code>BenchmarkX(b *testing.B)</code>ï¼›</li>
</ul>
<p>ä¸¾ä¸ªæ —å­ï¼Œè‡ªå®šä¹‰åŒ…ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">- src</div><div class="line">   |-Apush</div><div class="line">      |- Apush.go</div><div class="line">      |- Apush_test.go</div></pre></td></tr></table></figure>
<p>å…¶ä¸­Apush.goä»£ç ï¼š</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">package</span> Apush</div><div class="line"></div><div class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">SayHello</span><span class="params">()</span></span> &#123;</div><div class="line">	fmt.Println(<span class="string">"hello world"</span>)</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>å¯¹åº”çš„æµ‹è¯•æ–‡ä»¶Apush_test.goä»£ç ï¼š</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">package</span> Apush</div><div class="line"></div><div class="line"><span class="keyword">import</span> (</div><div class="line">	<span class="string">"testing"</span></div><div class="line">)</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">TestSayHello</span><span class="params">(t *testing.T)</span></span> &#123;</div><div class="line">	SayHello()</div><div class="line">	t.Error(<span class="string">"hello"</span>)</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">BenchmarkSayHello</span><span class="params">(b *testing.B)</span></span> &#123;</div><div class="line">	<span class="keyword">for</span> i := <span class="number">0</span>; i &lt; b.N; i++ &#123;</div><div class="line">		SayHello()</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>ç›´æ¥è¿è¡Œæ—¶ä¼šæŠ¥é”™çš„ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">go install</div></pre></td></tr></table></figure>
<p>ç„¶ååœ¨æ‰§è¡Œå¯¹åº”çš„å•æµ‹æ–¹æ³•å³å¯ã€‚</p>
<h1 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h1><ul>
<li>å•æµ‹ï¼š<a href="https://studygolang.com/articles/2464" target="_blank" rel="external">https://studygolang.com/articles/2464</a></li>
<li>åŒ…ï¼š<a href="https://studygolang.com/articles/155" target="_blank" rel="external">https://studygolang.com/articles/155</a></li>
</ul>

      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/ç¼–ç¨‹/" rel="tag">#ç¼–ç¨‹</a>
          
            <a href="/tags/golang/" rel="tag">#golang</a>
          
            <a href="/tags/è¯­æ³•/" rel="tag">#è¯­æ³•</a>
          
        </div>
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2017/06/01/newton-method/" rel="next" title="ç‰›é¡¿æ³•">
                <i class="fa fa-chevron-left"></i> ç‰›é¡¿æ³•
              </a>
            
          </div>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2017/06/17/python-local-process-data/" rel="prev" title="ä½¿ç”¨Pythonåœ¨æœ¬åœ°å¤„ç†æ•°æ®">
                ä½¿ç”¨Pythonåœ¨æœ¬åœ°å¤„ç†æ•°æ® <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
      <div id="disqus_thread">
        <noscript>
          Please enable JavaScript to view the
          <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a>
        </noscript>
      </div>
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            æ–‡ç« ç›®å½•
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            ç«™ç‚¹æ¦‚è§ˆ
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel ">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="//schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/avatar.jpeg"
               alt="wsztrush" />
          <p class="site-author-name" itemprop="name">wsztrush</p>
          <p class="site-description motion-element" itemprop="description"></p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">45</span>
              <span class="site-state-item-name">æ—¥å¿—</span>
            </a>
          </div>

          
            <div class="site-state-item site-state-categories">
              <a href="/categories">
                <span class="site-state-item-count">9</span>
                <span class="site-state-item-name">åˆ†ç±»</span>
              </a>
            </div>
          

          
            <div class="site-state-item site-state-tags">
              <a href="/tags">
                <span class="site-state-item-count">62</span>
                <span class="site-state-item-name">æ ‡ç­¾</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

      </section>

      
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">
            
              
            
            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#åŸºç¡€ç±»å‹"><span class="nav-number">1.</span> <span class="nav-text">åŸºç¡€ç±»å‹</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#é«˜çº§ç±»å‹"><span class="nav-number">2.</span> <span class="nav-text">é«˜çº§ç±»å‹</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#è‡ªå®šä¹‰ç±»å‹"><span class="nav-number">3.</span> <span class="nav-text">è‡ªå®šä¹‰ç±»å‹</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#æ§åˆ¶ä¸æ–¹æ³•"><span class="nav-number">4.</span> <span class="nav-text">æ§åˆ¶ä¸æ–¹æ³•</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#é”™è¯¯å¤„ç†"><span class="nav-number">5.</span> <span class="nav-text">é”™è¯¯å¤„ç†</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#æ¥å£"><span class="nav-number">6.</span> <span class="nav-text">æ¥å£</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#åå°„"><span class="nav-number">7.</span> <span class="nav-text">åå°„</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#I-O"><span class="nav-number">8.</span> <span class="nav-text">I/O</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#å¹¶å‘ç¼–ç¨‹"><span class="nav-number">9.</span> <span class="nav-text">å¹¶å‘ç¼–ç¨‹</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#åŒ…çš„ç”¨æ³•"><span class="nav-number">10.</span> <span class="nav-text">åŒ…çš„ç”¨æ³•</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#å•æµ‹"><span class="nav-number">11.</span> <span class="nav-text">å•æµ‹</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#å‚è€ƒ"><span class="nav-number">12.</span> <span class="nav-text">å‚è€ƒ</span></a></li></ol></div>
            
          </div>
        </section>
      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">wsztrush</span>
</div>

<!--
<div class="powered-by">
  ç”± <a class="theme-link" href="https://hexo.io">Hexo</a> å¼ºåŠ›é©±åŠ¨
</div>


<div class="theme-info">
  ä¸»é¢˜ -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Mist
  </a>
</div>

-->

        

        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  



  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.0.2"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.0.2"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.0.2"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.0.2"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.0.2"></script>



  



  

    <script type="text/javascript">
      var disqus_shortname = 'wsztrush';
      var disqus_identifier = '2017/06/14/golang-grammar/';
      var disqus_title = "Golangï¼šè¯­æ³•";
      var disqus_url = 'http://yoursite.com/2017/06/14/golang-grammar/';

      function run_disqus_script(disqus_script){
        var dsq = document.createElement('script');
        dsq.type = 'text/javascript';
        dsq.async = true;
        // TODO dsq.src = '//' + disqus_shortname + '.disqus.com/' + disqus_script;
        dsq.src = '//a.disquscdn.com/' + disqus_script;
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
      }

      run_disqus_script('count.js');
      
        var disqus_config = function () {
            this.page.url = disqus_url;
            this.page.identifier = disqus_identifier;
            this.page.title = disqus_title;
        };
        run_disqus_script('embed.js');
      
    </script>
  




  
  

  
  <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      }
    });
  </script>

  <script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
      var all = MathJax.Hub.getAllJax(), i;
      for (i=0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';
      }
    });
  </script>
  <script type="text/javascript" src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>


  

  
  <script src="https://cdn1.lncld.net/static/js/av-core-mini-0.6.1.js"></script>
  <script>AV.initialize("5q464kOnKNtBvidNUffEyLtK-gzGzoHsz", "OalJXPjfxbJuxfazVb8SjkuH");</script>
  <script>
    function showTime(Counter) {
      var query = new AV.Query(Counter);
      var entries = [];
      var $visitors = $(".leancloud_visitors");

      $visitors.each(function () {
        entries.push( $(this).attr("id").trim() );
      });

      query.containedIn('url', entries);
      query.find()
        .done(function (results) {
          var COUNT_CONTAINER_REF = '.leancloud-visitors-count';

          if (results.length === 0) {
            $visitors.find(COUNT_CONTAINER_REF).text(0);
            return;
          }

          for (var i = 0; i < results.length; i++) {
            var item = results[i];
            var url = item.get('url');
            var time = item.get('time');
            var element = document.getElementById(url);

            $(element).find(COUNT_CONTAINER_REF).text(time);
          }
          for(var i = 0; i < entries.length; i++) {
            var url = entries[i];
            var element = document.getElementById(url);
            var countSpan = $(element).find(COUNT_CONTAINER_REF);
            if( countSpan.text() == '') {
              countSpan.text(0);
            }
          }
        })
        .fail(function (object, error) {
          console.log("Error: " + error.code + " " + error.message);
        });
    }

    function addCount(Counter) {
      var $visitors = $(".leancloud_visitors");
      var url = $visitors.attr('id').trim();
      var title = $visitors.attr('data-flag-title').trim();
      var query = new AV.Query(Counter);

      query.equalTo("url", url);
      query.find({
        success: function(results) {
          if (results.length > 0) {
            var counter = results[0];
            counter.fetchWhenSave(true);
            counter.increment("time");
            counter.save(null, {
              success: function(counter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(counter.get('time'));
              },
              error: function(counter, error) {
                console.log('Failed to save Visitor num, with error message: ' + error.message);
              }
            });
          } else {
            var newcounter = new Counter();
            /* Set ACL */
            var acl = new AV.ACL();
            acl.setPublicReadAccess(true);
            acl.setPublicWriteAccess(true);
            newcounter.setACL(acl);
            /* End Set ACL */
            newcounter.set("title", title);
            newcounter.set("url", url);
            newcounter.set("time", 1);
            newcounter.save(null, {
              success: function(newcounter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(newcounter.get('time'));
              },
              error: function(newcounter, error) {
                console.log('Failed to create');
              }
            });
          }
        },
        error: function(error) {
          console.log('Error:' + error.code + " " + error.message);
        }
      });
    }

    $(function() {
      var Counter = AV.Object.extend("Counter");
      if ($('.leancloud_visitors').length == 1) {
        addCount(Counter);
      } else if ($('.post-title-link').length > 1) {
        showTime(Counter);
      }
    });
  </script>



  
<script>
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
    }
    else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>


  


</body>
</html>
